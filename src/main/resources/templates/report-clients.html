<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>
    <title>Отчет о клиентах</title>
    <meta charset="utf-8"/>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/jquery/latest/jquery.min.js"></script>

    <div th:replace="fragments/htmlFragments::header"></div>
    <link rel="stylesheet" href="/css/style.css"/>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-colorpicker/2.5.3/css/bootstrap-colorpicker.min.css"
          rel="stylesheet"/>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-colorpicker/2.5.3/js/bootstrap-colorpicker.min.js"></script>
    <script type="text/javascript" th:src="@{/js/choice-color-picker.js}"></script>
    <link href="/css/bootstrap-colorpicker.css" rel="stylesheet"/>
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/bootstrap.daterangepicker/2/daterangepicker.css"/>
    <script th:src="@{/js/validator.min.js}"></script>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/momentjs/latest/moment.min.js"></script>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/daterangepicker/daterangepicker.min.js"></script>
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/daterangepicker/daterangepicker.css"/>
    <div th:replace="fragments/htmlFragments::custom-style"></div>
</head>

<body>

<div style="margin-top: 3%">
    <div th:replace="fragments/htmlFragments::top-navigation-panel"></div>
    <div id="user-info-container" class="container-fluid">
        <div class="row-fluid">
            <label class="h2">Создать отчет:</label><br/>
            <div class="col-md-4" style="width: 20%; padding:30px;">
                <div class="form-group">
                    <label for="mailingDate" class="p-user">Выберите дату:</label>
                    <input class="form-control input-sm form-control-report" type="text" name="mailingDate" id="mailingDate"/>
                </div>
                <label for="report-type-radios" class="p-user">Выберите тип отчета:</label>
                <div id="report-type-radios" class="form-group">
                    <div class="radio">
                        <label>
                            <input type="radio" name="report-type" id="report-type-1" value="1" checked="checked"/>
                            Переходы из статусов
                        </label>
                    </div>
                    <div class="radio">
                        <label>
                            <input type="radio" name="report-type" id="report-type-2" value="2"/>
                            Появление новых
                        </label>
                    </div>
                    <div class="radio">
                        <label>
                            <input type="radio" name="report-type" id="report-type-3" value="3"/>
                            Первые оплаты
                        </label>
                    </div>
                </div>
                <div class="form-group hideable">
                    <label for="statusFromSelect" class="p-user">Статус из которого перешел:</label>
                    <select id="statusFromSelect" class="form-control">
                        <option value="null">Статус</option>
                    </select>
                </div>
                <div class="form-group hideable">
                    <label for="statusToSelect" class="p-user">Статус в который перешел:</label>
                    <select id="statusToSelect" class="form-control">
                        <option value="null">Статус</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="statusExcludeSelect" class="p-user">Кроме статусов:</label>
                    <div id="statusExcludeSelect" class="checkbox">
                        <label><input type="checkbox" value="null" class="exclude-status-checkboxes" aria-label="Статус"/>Статус</label>
                    </div>
                </div>
                <div id="formToSend">
                    <div id="formCreate">
                        <div class="form-group">
                            <label class="p-user">Отправить на Email:</label>
                            <input class="form-control input-sm form-control-report" name="email"
                                   th:value="${currentMail}" th:id="email"/>
                        </div>
                        <br/>
                        <button id="load-data-button" class="form-control form-control-report btn btn-primary btn-block">
                            Загрузить данные
                        </button>
                        <br/>
                        <button class="form-control form-control-report btn btn-primary btn-block" onclick="sendReport()">
                            Отправить отчет
                        </button>
                    </div>
                </div>
                <br/>
                <a href="#" onclick="history.back();" class="form-control form-control-report btn btn-primary btn-block">Назад</a>
            </div>
            <div id="client-cards-holder" class="col-md-8">
                <div id="report-area-holder" class="form-group">
                    <label class="p-user">Отчет:</label>
                    <textarea style="resize: both" class="form-control input-sm form-control-report"
                              name="reportArea" th:id="reportArea" placeholder="Choose a date range above..."></textarea>
                </div>
                <table id="client-cards-table" class="table table-hover table-condensed">
                    <tr>
                        <th>#</th>
                        <th>Имя</th>
                        <th>Фамилия</th>
                        <th>Телефон</th>
                        <th>E-mail</th>
                    </tr>
                </table>
            </div>
        </div>
    </div>
</div>

<div th:replace="fragments/changeColorByStatusModal::change-color-by-status-modal"></div>
<div th:replace="fragments/mainModal::mainModalWindow"></div>
<div th:replace="fragments/modal-client-history-message::modalClientHistoryMessage"></div>
<div th:replace="fragments/htmlFragments::client_description_modal"></div>
<div th:replace="fragments/htmlFragments::emailMessageTemplateModal"></div>
<div th:replace="fragments/htmlFragments::vkontakteMessageTemplateModal"></div>
<div th:replace="fragments/htmlFragments::vkontakteIMModal"></div>
<div th:replace="fragments/htmlFragments::customMessageTemplateModal"></div>
<div th:replace="fragments/htmlFragments::sendTemplateModal"></div>
<div th:replace="fragments/htmlFragments::sms_error_modal"></div>
<div th:replace="fragments/conversations::conversationsModal"></div>
<div th:replace="fragments/contract-client-setting-modal::contractClientSettingModal"></div>
<div th:replace="fragments/contract-client-link-modal::contractClientLinkModal"></div>
<div th:replace="fragments/htmlFragments::slackLinkModal"></div>

<script type="text/javascript" src="https://cdn.voximplant.com/edge/voximplant.min.js"></script>
<script type="text/javascript"
        src="https://cdnjs.cloudflare.com/ajax/libs/jquery.textcomplete/1.8.4/jquery.textcomplete.min.js"></script>
<script type="text/javascript" src="https://cdn.jsdelivr.net/momentjs/latest/moment.min.js"></script>
<script type="text/javascript" src="https://cdn.jsdelivr.net/bootstrap.daterangepicker/2/daterangepicker.js"></script>
<script type="text/javascript"
        src="https://cdnjs.cloudflare.com/ajax/libs/jquery.textcomplete/1.8.4/jquery.textcomplete.min.js"></script>
<script type="text/javascript" src="/js/moment-timezone.js"></script>
<link href="/css/bootstrap-colorpicker.css" rel="stylesheet"/>
<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-colorpicker/2.5.3/js/bootstrap-colorpicker.js"></script>

<script type="text/javascript" th:src="@{/js/report.js}"></script>
<script type="text/javascript" th:src="@{/js/loading-animation.js}"></script>
<script type="text/javascript" th:src="@{/js/main-modal.js}"></script>
<script type="text/javascript" th:src="@{/js/main-modal-contract.js}"></script>
<script type="text/javascript" th:src="@{/js/ip-telephony.js}"></script>
<script type="text/javascript" th:src="@{/js/conversations.js}"></script>
<script type="text/javascript" th:src="@{/js/comments.js}"></script>
<script type="text/javascript" th:src="@{/js/notifications.js}"></script>
<script type="text/javascript" th:src="@{/js/status.js}"></script>
<script type="text/javascript" th:src="@{/js/clientHistory.js}"></script>

</body>
</html>

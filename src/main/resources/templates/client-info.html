<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <div th:replace="fragments/htmlFragments::header"></div>
    <link rel="stylesheet" href="/css/style.css"/>
    <script type="text/javascript" th:src="@{/js/client-info.js}"></script>
    <script th:src="@{/js/validator.min.js}"></script>
</head>
<body>
<div th:replace="fragments/htmlFragments::top-navigation-panel"></div>
<div style="margin-top: 3%">
<div id = "client-info-container" class="container-fluid">
    <div class="row-fluid">
        <div class="col-md-6" id="column1">
            <form id="client-from" data-toggle="validator" role="form" onsubmit="return false;">
                <div class="btn-group">
                    <button type="button" class="btn btn-primary"  id="editClientBtn" onclick="revertUnable()">Редактировать</button>
                    <button type="submit" class="btn btn-primary" id="saveChanges" th:onclick="'changeClient(\''+ ${client.id} +'\')'">Сохранить</button>
                    <a href="/client" class="btn btn-primary" id="backToMain">Назад</a>
                </div>
                <p><span id = "message"></span></p>
                <div class="form-group">
                <label for="edit-client-first-name">Имя</label>
                <input class="form-control" required = "required" disabled="disabled" id="edit-client-first-name" th:value="${client.name}"/>
            </div>
            <div class="form-group">
                <label for="edit-client-last-name">Фамилия</label>
                <input class="form-control" id="edit-client-last-name" disabled="disabled" th:value="${client.lastName}"/>
            </div>
            <div class="form-group">
                <label for="edit-client-phone-number">Номер телефона</label>
                <input type="number" class="form-control" disabled="disabled" id="edit-client-phone-number" th:value="${client.phoneNumber}"/>
            </div>
            <div class="form-group">
                <label for="edit-client-email">Email</label>
                <input type="email" class="form-control" data-error="Неверный формат Email" pattern="^[_A-Za-z0-9-\+]+(\.[_A-Za-z0-9-]+)*@[A-Za-z0-9-]*(\.[A-Za-z]{2,})$" disabled="disabled" id="edit-client-email" th:value="${client.email}"/>
                <div class="help-block with-errors"></div>
            </div>
            <div class="form-group">
                <label for="edit-client-age">Возраст</label>
                <input type="text" class="form-control" disabled="disabled" data-error="Диапазон от 1 до 127" title = "Диапазон от 1 до 127" pattern="^[1-9]$|^[1-9][0-9]$|^1[0-1][1-9]$|^12[1-7]$" onkeydown="disableInputE()"  id="edit-client-age" th:value="${client.age}"/>
                <div class="help-block with-errors"></div>
            </div>
            <div class="form-group">
                <label for="edit-client-sex">Выберите пол</label>
                <select class="form-control" disabled="disabled" id="edit-client-sex" th:value="${client.sex}">
                    <option th:value="MALE">MALE</option>
                    <option th:value="FEMALE">FEMALE</option>
                </select>
            </div>
            <div class="form-group">
                <label for="edit-client-state">Статус</label>
                <select class="form-control" disabled="disabled" id="edit-client-state" th:value="${client.state}">
                    <option th:each="state: ${states}" th:value="${state}" th:text="${state}"></option>
                </select>
            </div>
            <div class="form-group">
                <label for="edit-client-country">Страна</label>
                <input type="text" class="form-control" disabled="disabled" id="edit-client-country" th:value="${client.country}"/>
            </div>
            <div class="form-group">
                <label for="edit-client-city">Город</label>
                <input type="text" class="form-control" disabled="disabled" id="edit-client-city" th:value="${client.city}"/>
            </div>
            <div class="form-group">
                <label>Социальные сети</label>
                <table class="table table-hover" th:id = "SocialNetworks">
                    <thead class="thead-inverse">
                    <tr>
                        <th hidden="hidden" abbr="id">id</th>
                        <th abbr="link">Link</th>
                        <th abbr="socialNetworkType">Type</th>
                    </tr>
                    </thead>
                    <tbody id = "SN-table-body">
                    <tr th:each="socials:${client.socialNetworks}">
                        <td  hidden="hidden" th:id="'edit-client-SN_' + ${socials.id} + '_id'" th:value="${socials.id}" th:text="${socials.id}"></td>
                        <td th:id="'edit-client-SN_'+ ${socials.id} + '_link'" th:value="${socials.link}" th:text="${socials.link}"></td>
                        <td th:id="'edit-client-SN_type'" th:value="${socials.socialNetworkType.id}" th:text="${socials.socialNetworkType.name}"></td>
                        <td><button disabled="disabled" type="button" th:id="'deleteSocial'+${socials.id}" th:onclick="'deleteSocial(\''+ ${socials.id} +'\')'" class="glyphicon glyphicon-remove"></button></td>
                    </tr>
                    </tbody>
                </table>
            </div>
            </form>
            <button class="btn btn-md btn-info" disabled="disabled" id = "addNewSN" th:onclick="'addNewSN(' + ${client.socialNetworks.size()+1} + ')'">Добавить соц. сеть</button>
            <form id="job-client-from">
                <div class="form-group">
                    <label>Работа</label>
                    <table class="table table-hover" th:id = "Job">
                        <thead class="thead-inverse">
                        <tr>
                            <th hidden="hidden" abbr="id">id</th>
                            <th abbr="organization">Организация</th>
                            <th abbr="position">Позиция</th>
                        </tr>
                        </thead>
                        <tbody id = "job-table-body">
                        <tr th:each="job:${client.jobs}">
                            <td  hidden="hidden" th:id="'edit-client-job'+ ${job.id} + '_id'" th:value="${job.id}" th:text="${job.id}"></td>
                            <td th:id="'edit-client-job_'+ ${job.id} + '_organization'" th:value="${job.organization}" th:text="${job.organization}"></td>
                            <td th:id="'edit-client-job_' + ${job.id} + '_postion'" th:value="${job.position}" th:text="${job.position}"></td>
                            <td><button disabled="disabled" type="button" th:id="'deleteJob'+${job.id}" th:onclick="'deleteJob(\''+ ${job.id} +'\')'" class="glyphicon glyphicon-remove"></button></td>
                        </tr>
                        </tbody>
                    </table>
                </div>
            </form>
            <button class="btn btn-md btn-info" disabled="disabled" id = "addNewJob" th:onclick="'addNewJob(' + ${client.jobs.size()+1} + ')'">Добавить работу</button>
        </div>
        <div class="col-md-6"></div>
    </div>
</div>
</div>
</body>
</html>